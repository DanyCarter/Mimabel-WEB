import{a7 as C,a8 as B,x as i,j as M,r as h,a as _,e as b,b as a,P as U,L as u,Q as m,w as q,t as I,l as A,F as D,ac as L,ad as f,ae as w,q as N,af as x,ag as P,ah as R,o as y,h as S,aa as E,ab as O}from"./index-D2aitIVI.js";const F={components:{MainNav:B},setup(){const o=i(""),s=i(""),l=i(""),e=i(""),v=i(""),r=i(""),n=M();return{firstName:o,lastName:s,email:l,password:e,location:v,goBack:()=>{n.push("/")},errorMessage:r,register:async()=>{if(e.value.length<6){r.value="Password should be at least 6 characters.";return}try{const p=(await L(f,l.value,e.value)).user,c=l.value==="admin@example.com"?"admin":"user";await w(N(x,"users",p.uid),{firstName:o.value,lastName:s.value,email:l.value,location:v.value,role:c,createdAt:new Date}),n.push("/")}catch(d){d.code==="auth/email-already-in-use"?r.value="Email is already in use.":r.value=d.message}},socialLogin:async()=>{const d=new P;try{const c=(await R(f,d)).user,V=c.email==="admin@example.com"?"admin":"user";await w(N(x,"users",c.uid),{firstName:"",lastName:"",email:c.email,role:V,createdAt:new Date}),n.push("/")}catch(p){r.value="Oops. "+p.message}}}}},k=o=>(E("data-v-d8fbbb9c"),o=o(),O(),o),G={class:"full-page"},T={class:"wrapper"},W=k(()=>a("h2",{class:"register-title"},"Register",-1)),j={class:"input-box"},H={class:"input-box"},Q={class:"input-box"},z={class:"input-box"},J={class:"input-box"},K=k(()=>a("div",{class:"input-box button"},[a("input",{type:"submit",value:"Register"})],-1)),X={class:"login-forget opacity"},Y={key:0,class:"error-message"};function Z(o,s,l,e,v,r){const n=h("MainNav"),g=h("router-link");return y(),_(D,null,[b(n,{showButtons:!1,hideHamburger:!0}),a("div",G,[a("div",T,[W,a("form",{onSubmit:s[6]||(s[6]=U((...t)=>e.register&&e.register(...t),["prevent"]))},[a("div",j,[u(a("input",{type:"text",placeholder:"Nombre","onUpdate:modelValue":s[0]||(s[0]=t=>e.firstName=t),required:""},null,512),[[m,e.firstName]])]),a("div",H,[u(a("input",{type:"text",placeholder:"Apellidos","onUpdate:modelValue":s[1]||(s[1]=t=>e.lastName=t),required:""},null,512),[[m,e.lastName]])]),a("div",Q,[u(a("input",{type:"email",placeholder:"Correo electronico...","onUpdate:modelValue":s[2]||(s[2]=t=>e.email=t),required:""},null,512),[[m,e.email]])]),a("div",z,[u(a("input",{type:"password",placeholder:"ConstraseÃ±a...","onUpdate:modelValue":s[3]||(s[3]=t=>e.password=t),required:""},null,512),[[m,e.password]])]),a("div",J,[u(a("input",{type:"text",placeholder:"Ubicacion","onUpdate:modelValue":s[4]||(s[4]=t=>e.location=t),required:""},null,512),[[m,e.location]])]),K,a("div",X,[b(g,{to:"/login",class:"login"},{default:q(()=>[S("LOGIN")]),_:1}),a("button",{onClick:s[5]||(s[5]=(...t)=>e.goBack&&e.goBack(...t)),class:"back"},"VOLVER")]),e.errorMessage?(y(),_("p",Y,I(e.errorMessage),1)):A("",!0)],32)])])],64)}const ae=C(F,[["render",Z],["__scopeId","data-v-d8fbbb9c"]]);export{ae as default};
