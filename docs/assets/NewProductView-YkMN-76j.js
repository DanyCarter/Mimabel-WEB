import{u as f,q as V,s as y,r as _,o as u,a as m,e as l,w as c,h as P,b as r,k as q,d as i,x as N}from"./index-BytxeJEz.js";import{u as h}from"./useImage-DYDv_h_b.js";const w=r("h1",{class:"text-3xl font-black my-10"},"Nuevo Producto",-1),x={class:"flex justify-center bg-white shadow"},C={class:"mt-10 p-10 w-full 2xl:w-2/4"},k={key:0},I=r("p",{class:"font-black"},"Imagen Producto:",-1),O=["src"],B={__name:"NewProductView",setup(U){const{url:s,onFileChange:p,isImageUploaded:g}=h(),d=f(),b=V(),e=y({name:"",category:"",price:"",availability:"",image:""}),v=async n=>{const{image:a,...t}=n;try{await d.createProduct({...t,image:s.value}),b.push({name:"products"})}catch(o){console.log(o)}};return(n,a)=>{const t=_("FormKit");return u(),m("div",null,[l(P,{to:"products"},{default:c(()=>[q("Volver")]),_:1}),w,r("div",x,[r("div",C,[l(t,{type:"form","submit-label":"Agregar Producto","incomplete-message":"No se pudo enviar revisa los mensajes",onSubmit:v,value:e},{default:c(()=>[l(t,{type:"text",label:"Nombre",name:"name",placeholder:"Nombre de Producto",validation:"required","validation-messages":{required:"El Nombre del Producto es Obligatorio"},modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.name=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),l(t,{type:"file",label:"Imagen Producto",name:"image",validation:"required","validation-messages":{required:"La Imagen del Producto es Obligatoria"},accept:".jpg",onChange:i(p),modelValue:e.image,"onUpdate:modelValue":a[1]||(a[1]=o=>e.image=o),modelModifiers:{trim:!0}},null,8,["onChange","modelValue"]),i(g)?(u(),m("div",k,[I,r("img",{src:i(s),alt:"Nueva Imagen producto",class:"w-32"},null,8,O)])):N("",!0),l(t,{type:"select",label:"Categoría",name:"category",validation:"required","validation-messages":{required:"La categoría es Obligatoria"},options:i(d).categoryOptions,modelValue:e.category,"onUpdate:modelValue":a[2]||(a[2]=o=>e.category=o),modelModifiers:{number:!0}},null,8,["options","modelValue"]),l(t,{type:"number",label:"Precio",name:"price",placeholder:"Precio del Producto",validation:"required","validation-messages":{required:"El Precio es Obligatorio"},min:"1",modelValue:e.price,"onUpdate:modelValue":a[3]||(a[3]=o=>e.price=o),modelModifiers:{number:!0}},null,8,["modelValue"]),l(t,{type:"number",label:"Disponibles",name:"availability",placeholder:"Cantidad disponible",validation:"required","validation-messages":{required:"La Cantidad es Obligatoria"},modelValue:e.availability,"onUpdate:modelValue":a[4]||(a[4]=o=>e.availability=o),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["value"])])])])}}};export{B as default};
